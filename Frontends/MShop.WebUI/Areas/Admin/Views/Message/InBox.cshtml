@model List<GetMessageWithSenderNameDto>
@{
	ViewData["Title"] = "InBox";
	Layout = "~/Areas/Admin/Views/AdminLayout/Index.cshtml";
	int count = 0;
}

<div class="card">
	<div class="card-header">
		<div class="card-title">Şirket İçi Mesajlar</div>
	</div>
	<div class="card-body">
		<table class="table table-head-bg-success">
			<thead>
				<tr>
					<th scope="col">#</th>
					<th scope="col">Gönderen</th>
					<th scope="col">Konu</th>
					<th scope="col">Tarih</th>
					<th scope="col">Durum</th>
					<th scope="col">Mesaj</th>
					<th scope="col">MesajDetayı..</th>
					<th scope="col">Sil</th>
					
				</tr>
			</thead>
			<tbody>
				@foreach (var item in Model)
				{
					count++;
					<tr>
						<td>@count</td>
						<td>@item.SenderName</td>
						<td>@item.Subject</td>
						<td>@item.SendedDate</td>
						@if (item.IsReaded == false)
						{
							<td>Okunmadı</td>
						}
						else{<td>Okundu</td>}
						@if (item.Messages.Length >= 25)
						{
							<td>@item.Messages.Substring(0, 25) ...</td>
						}
						else
						{
							<td>@item.Messages</td>
						}
						<td><a href="/Admin/Message/MessageDetail/@item.UserMessageId" class="btn btn-primary">Mesaj Detayı..</a></td>
						<td><a href="/Admin/Message/DeleteMessage/@item.UserMessageId" class="btn btn-danger">Sil</a></td>
					
					</tr>
				}

			</tbody>
		</table>
		<a href="/Admin/Message/SendMessage" class="btn btn-info">Mesaj Gönder</a>
	</div>
</div>


